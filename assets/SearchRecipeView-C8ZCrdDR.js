import{d as v,y as u,s as f,A as R,c as o,w as b,p as $,b as B,v as N,f as e,a as t,z as V,o as r,_ as M,t as h,k as x,g as w,e as k,F as T,j as C,h as y,l as D}from"./index-CZGmal3y.js";const F=v({__name:"search",setup(p){const s=u(),{search:i}=f(s),{fetchRecipes:c}=s;function l(){i.value&&c(i.value)}let d;return R(i,n=>{clearTimeout(d),n&&n.trim()!==""&&(d=setTimeout(()=>{c(n)},1e3))}),(n,_)=>(r(),o("form",{class:"search-bar",onSubmit:b(l,["prevent"]),role:"search","aria-label":"Search Recipes"},[$(t("input",{"onUpdate:modelValue":_[0]||(_[0]=m=>V(i)?i.value=m:null),class:"search-bar__input",type:"text",placeholder:"Search for recipes...","aria-label":"Search for recipes",autocomplete:"off"},null,512),[[N,e(i)]]),_[1]||(_[1]=B('<button class="search-bar__btn" type="submit" aria-label="Search"><span class="visually-hidden">Search</span><svg width="20" height="20" fill="none" viewBox="0 0 24 24" aria-hidden="true"><circle cx="11" cy="11" r="8" stroke="var(--min-violet-primary)" stroke-width="2"></circle><line x1="18" y1="18" x2="22" y2="22" stroke="var(--min-violet-accent)" stroke-width="2" stroke-linecap="round"></line></svg></button>',1))],32))}}),L={},z={class:"search-loading","aria-live":"polite"};function A(p,s){return r(),o("div",z,"Loading recipes...")}const I=M(L,[["render",A]]),j={class:"search-error","aria-live":"assertive"},E=v({__name:"error",setup(p){const s=u(),{error:i}=f(s);return(c,l)=>(r(),o("div",j,h(e(i)),1))}}),J={class:"recipe-card__img-wrapper"},U=["src","alt"],q={key:1,class:"recipe-card__img recipe-card__img--placeholder","aria-label":"No image available"},G={class:"recipe-card__body"},H={class:"recipe-card__title"},K={class:"recipe-card__meta"},O={class:"recipe-card__meta-item"},P={key:0,class:"recipe-card__meta-item"},Q={key:1,class:"recipe-card__meta-item"},W={class:"recipe-card__actions"},X=v({__name:"card",props:{payload:{default:()=>({id:0,title:"No Data",image:"No Data",readyInMinutes:0,servings:0,dishTypes:[]})}},setup(p){const{saveRecipe:s,setActiveRecipe:i}=u();x(()=>console.log(typeof i));const c=p,{id:l,title:d,image:n,readyInMinutes:_,servings:m,dishTypes:g}=c.payload;return(ie,a)=>(r(),o("div",{key:e(l),class:"recipe-card",role:"listitem",tabindex:"0","aria-label":"Recipe Card"},[t("div",J,[e(n)?(r(),o("img",{key:0,src:e(n),alt:e(d)+" image",class:"recipe-card__img",loading:"lazy"},null,8,U)):(r(),o("div",q,a[2]||(a[2]=[t("svg",{width:"48",height:"48",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true"},[t("rect",{x:"4",y:"4",width:"40",height:"40",rx:"8",fill:"var(--min-violet-bg)",stroke:"var(--min-violet-accent)","stroke-width":"2"}),t("path",{d:"M12 36l8-10 6 8 6-6 8 8",stroke:"var(--min-violet-primary)","stroke-width":"2",fill:"none"})],-1)])))]),t("div",G,[t("h2",H,h(e(d)),1),t("div",K,[t("span",O,[a[3]||(a[3]=t("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16","aria-hidden":"true"},[t("circle",{cx:"8",cy:"8",r:"7",stroke:"var(--min-violet-accent)","stroke-width":"2"}),t("path",{d:"M8 4v4l2.5 2.5",stroke:"var(--min-violet-primary)","stroke-width":"2","stroke-linecap":"round"})],-1)),k(" "+h(e(_))+" min ",1)]),e(m)?(r(),o("span",P,[a[4]||(a[4]=t("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16","aria-hidden":"true"},[t("ellipse",{cx:"8",cy:"10",rx:"5",ry:"3",stroke:"var(--min-violet-primary)","stroke-width":"2",fill:"none"})],-1)),k(" "+h(e(m))+" servings ",1)])):w("",!0),e(g)&&e(g).length?(r(),o("span",Q,[a[5]||(a[5]=t("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16","aria-hidden":"true"},[t("rect",{x:"3",y:"3",width:"10",height:"10",rx:"2",stroke:"var(--min-violet-accent)","stroke-width":"2",fill:"none"})],-1)),k(" "+h(e(g)[0]),1)])):w("",!0)]),t("div",W,[t("button",{class:"recipe-card__btn","aria-label":"View Recipe",onClick:a[0]||(a[0]=b(S=>e(i)(c.payload),["prevent"]))},"View Recipe"),t("button",{class:"recipe-card__btn recipe-card__btn--save",onClick:a[1]||(a[1]=b(S=>e(s)(c.payload),["prevent"])),"aria-label":"Save Recipe"},"Save Recipe")])])]))}}),Y={class:"search-results",role:"list","aria-label":"Recipe Results"},Z={key:0,class:"search-empty","aria-live":"polite"},ee=v({__name:"result",setup(p){const s=u(),{recipes:i,loading:c}=f(s);return(l,d)=>(r(),o("div",Y,[(r(!0),o(T,null,C(e(i),n=>(r(),y(X,{payload:n},null,8,["payload"]))),256)),!e(i).length&&!e(c)?(r(),o("div",Z,"No recipes found. Try another search!")):w("",!0)]))}}),te={class:"search-section","aria-label":"Recipe Search"},se=v({__name:"SearchRecipeView",setup(p){const s=u(),{loading:i,error:c}=f(s),{fetchRecipes:l}=s;return x(()=>{document.title="JRF | Search",l()}),(d,n)=>(r(),o("section",te,[D(F),e(i)?(r(),y(I,{key:0})):e(c)?(r(),y(E,{key:1})):(r(),y(ee,{key:2}))]))}});export{se as default};
